{% extends "base.html" %}

{% block title %}Research Papers - Learning Library{% endblock %}
{% block css_path %}../assets/style.css{% endblock %}
{% block home_path %}../index.html{% endblock %}
{% block nav_home %}../index.html{% endblock %}
{% block nav_channels %}../channels/index.html{% endblock %}
{% block nav_browse %}../browse/a.html{% endblock %}

{% block content %}
<a href="../index.html" class="back-link">← Back to Library</a>

<div class="page-header">
    <h2>Research Papers</h2>
    <p class="subtitle">{{ entries|length }} papers from HuggingFace Daily Papers</p>
</div>

<!-- Topic Filters -->
<div class="filters" style="margin-bottom: 1.5rem;">
    <strong>Filter by topic:</strong>
    {% for topic in topics %}
    <a href="../topics/{{ topic }}.html" class="tag">{{ topic }}</a>
    {% endfor %}
</div>

<!-- Sort Options -->
<div class="sort-options" style="margin-bottom: 1rem; color: var(--text-muted);">
    Sorted by: <strong>Date Added</strong> (newest first)
</div>

<!-- Papers List -->
<ul class="entry-list papers-list">
    {% for entry in entries %}
    <li class="entry-card paper-card">
        <div class="entry-header">
            <span class="content-type-badge paper-badge">Paper</span>
            <a href="{{ entry.slug }}.html" class="entry-title">{{ entry.title }}</a>
        </div>
        <div class="entry-meta">
            {% if entry.authors %}
            <span class="authors">{{ entry.authors[:3]|join(', ') }}{% if entry.authors|length > 3 %}...{% endif %}</span>
            •
            {% endif %}
            {% for topic in entry.facets.topics %}
            <span class="tag tag-small">{{ topic }}</span>
            {% endfor %}
            •
            <span class="difficulty">{{ entry.facets.difficulty }}</span>
            {% if entry.upvotes %}
            •
            <span class="upvotes">▲ {{ entry.upvotes }}</span>
            {% endif %}
            •
            <span class="date">{{ entry.added_date }}</span>
        </div>
        {% if entry.summary %}
        <div class="entry-summary">
            {{ entry.summary[0][:200] }}{% if entry.summary[0]|length > 200 %}...{% endif %}
        </div>
        {% endif %}
    </li>
    {% endfor %}
</ul>

{% if entries|length == 0 %}
<p class="empty-state">No papers imported yet. Run <code>python huggingface_papers.py</code> to import papers.</p>
{% endif %}

{% endblock %}
